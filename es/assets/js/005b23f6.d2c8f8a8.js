"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2551],{4492:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>u,frontMatter:()=>i,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"pixelbuy/developers/schema","title":"Schema","description":"Esquema de datos para hacer un sitio web compatible con PixelBuy.","source":"@site/i18n/es/docusaurus-plugin-content-docs/current/pixelbuy/developers/schema.md","sourceDirName":"pixelbuy/developers","slug":"/pixelbuy/developers/schema","permalink":"/es/pixelbuy/developers/schema","draft":false,"unlisted":false,"editUrl":"https://github.com/saicone/pixelbuy/blob/main/docs/es/developers/schema.md","tags":[],"version":"current","lastUpdatedBy":"github-actions[bot]","lastUpdatedAt":1755643093000,"sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Schema","description":"Esquema de datos para hacer un sitio web compatible con PixelBuy."},"sidebar":"pixelbuy","previous":{"title":"API","permalink":"/es/pixelbuy/developers/api"},"next":{"title":"Informaci\xf3n extra","permalink":"/es/pixelbuy/extra/"}}');var o=r(4848),s=r(8453);const i={sidebar_position:2,title:"Schema",description:"Esquema de datos para hacer un sitio web compatible con PixelBuy."},t=void 0,c={},d=[{value:"REST API",id:"rest-api",level:2},{value:"Autenticaci\xf3n",id:"autenticaci\xf3n",level:3},{value:"Versi\xf3n 1",id:"versi\xf3n-1",level:3}];function l(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"Para permitir que la gente haga su propio sitio web conectado con PixelBuy, se ha creado un formato en com\xfan."}),"\n",(0,o.jsx)(n.h2,{id:"rest-api",children:"REST API"}),"\n",(0,o.jsxs)(n.p,{children:["Hacer que tu sitio web transfiera datos con el proceso tipico de ",(0,o.jsx)(n.code,{children:"GET"})," y ",(0,o.jsx)(n.code,{children:"POST"}),"."]}),"\n",(0,o.jsx)(n.p,{children:"Se usar\xe1 contenido en Json para explicar el formato."}),"\n",(0,o.jsx)(n.h3,{id:"autenticaci\xf3n",children:"Autenticaci\xf3n"}),"\n",(0,o.jsx)(n.p,{children:'Todos los sitios web compatibles con PixelBuy deben proveer una "clave secreta", la cual ser\xe1 usada por el usuario para obtener informaci\xf3n de la API del sitio web.'}),"\n",(0,o.jsx)(n.p,{children:"PixelBuy es compatible con multiples formatos de autenticaci\xf3n:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Query parameters, al proveer la clave secrete como un query parameter en el mismo URL."}),"\n",(0,o.jsx)(n.li,{children:"Header property, al proveer la clave secrete como un header de http en cada conexi\xf3n."}),"\n",(0,o.jsx)(n.li,{children:"Basic authentication, al pasar la clave secreta en un header de Basic authentication header en cada conexi\xf3n."}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"versi\xf3n-1",children:"Versi\xf3n 1"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"error:"})," Es la respuesta para comunicar un error."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json5",children:'{\n  "error": "error_message_code",\n  "message": "An error has occur",\n  "status": 404,\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"(GET) order:"})," Una orden de compra, el jugador puede ser solo un nombre si no quieres dar el UUID."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json5",children:'{\n  "id": 1234, // ID num\xe9rico de la orden / n\xfamero de transacci\xf3n\n  "date": "1970-01-25", // En formato ISO-8601\n  "player": "7ca003dc-175f-4f1f-b490-5651045311ad:Rubenicos", // [<uuid>:]<nombre>\n  "execution": "BUY", // Opcional, el valor debe ser BUY, RECOVER o REFUND\n  // Puede no haber items si el valor de la ejecuci\xf3n es RECOVER o REFUND\n  "items": [\n    {\n      "product": 55, // Opcional, es el identificador del producto, puede ser cualquier tipo de objeto\n      "id": "super-pickaxe", // El identificador del item que fue configurado en PixelBuy\n      "amount": 1, // La cantidad de items de este tipo, debe ser un n\xfamero entero\n      "price": 2.49, // La cantidad real de dinero gastado en este items (considera la cantidad de items)\n    },\n    {\n      "product": 94,\n      "id": "eco-bundle",\n      "amount": 6,\n      "price": 5.04,\n    }\n  ]\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"(GET) server:"})," Informaci\xf3n sobre el servidor."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json5",children:'{\n  // Ordenes de compra que deber\xedan ser procesadas por PixelBuy\n  "pending_orders": [\n    {\n      // Objeto de una orden (arriba est\xe1 especificado su formato)...\n    },\n    {\n      // Otro objeto de una orden (arriba est\xe1 especificado su formato)...\n    }\n  ],\n  "next_check": 60, // Opcional, the amount of seconds to wait until make the next check\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"(POST) update:"})," Le dice a la tienda que debe ejecutarse una actualizaci\xf3n."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json5",children:'{\n  "processed_orders": [ 1234, 6727, 1897 ], // Los IDs de las ordenes que compra que ya fueron procesadas (y por lo tanto ya no deber\xedan aparecer en la informaci\xf3n del servidor)\n}\n'})})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>t});var a=r(6540);const o={},s=a.createContext(o);function i(e){const n=a.useContext(s);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),a.createElement(s.Provider,{value:n},e.children)}}}]);