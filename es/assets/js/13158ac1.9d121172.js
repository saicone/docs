"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[659],{3905:(e,a,n)=>{n.d(a,{Zo:()=>p,kt:()=>b});var r=n(7294);function o(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function t(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?t(Object(n),!0).forEach((function(a){o(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function l(e,a){if(null==e)return{};var n,r,o=function(e,a){if(null==e)return{};var n,r,o={},t=Object.keys(e);for(r=0;r<t.length;r++)n=t[r],a.indexOf(n)>=0||(o[n]=e[n]);return o}(e,a);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(r=0;r<t.length;r++)n=t[r],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=r.createContext({}),c=function(e){var a=r.useContext(s),n=a;return e&&(n="function"==typeof e?e(a):i(i({},a),e)),n},p=function(e){var a=c(e.components);return r.createElement(s.Provider,{value:a},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var a=e.children;return r.createElement(r.Fragment,{},a)}},m=r.forwardRef((function(e,a){var n=e.components,o=e.mdxType,t=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=c(n),m=o,b=d["".concat(s,".").concat(m)]||d[m]||u[m]||t;return n?r.createElement(b,i(i({ref:a},p),{},{components:n})):r.createElement(b,i({ref:a},p))}));function b(e,a){var n=arguments,o=a&&a.mdxType;if("string"==typeof e||o){var t=n.length,i=new Array(t);i[0]=m;var l={};for(var s in a)hasOwnProperty.call(a,s)&&(l[s]=a[s]);l.originalType=e,l[d]="string"==typeof e?e:o,i[1]=l;for(var c=2;c<t;c++)i[c]=n[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},946:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>s,contentTitle:()=>i,default:()=>u,frontMatter:()=>t,metadata:()=>l,toc:()=>c});var r=n(7462),o=(n(7294),n(3905));const t={sidebar_position:2,title:"Como usarlo",description:"Como utilizar Ezlib"},i=void 0,l={unversionedId:"ezlib/usage",id:"ezlib/usage",title:"Como usarlo",description:"Como utilizar Ezlib",source:"@site/i18n/es/docusaurus-plugin-content-docs/current/ezlib/usage.md",sourceDirName:"ezlib",slug:"/ezlib/usage",permalink:"/es/ezlib/usage",draft:!1,editUrl:"https://github.com/saicone/ezlib/blob/main/docs/es/usage.md",tags:[],version:"current",lastUpdatedBy:"github-actions[bot]",lastUpdatedAt:1692932689,formattedLastUpdatedAt:"25 ago 2023",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"Como usarlo",description:"Como utilizar Ezlib"},sidebar:"ezlib",previous:{title:"Ezlib",permalink:"/es/ezlib/"}},s={},c=[{value:"Basic",id:"basic",level:2},{value:"ClassLoader principal",id:"classloader-principal",level:2},{value:"Recolocaci\xf3n",id:"recolocaci\xf3n",level:2}],p={toc:c},d="wrapper";function u(e){let{components:a,...n}=e;return(0,o.kt)(d,(0,r.Z)({},p,n,{components:a,mdxType:"MDXLayout"}),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"Ezlib usa el mismo formato que gradle para agregar dependencias")),(0,o.kt)("h2",{id:"basic"},"Basic"),(0,o.kt)("p",null,"Ezlib ofrece m\xe9todos f\xe1ciles de entender para cargar todas las dependencias que necesites en tiempo de ejecuci\xf3n dentro de un class loader."),(0,o.kt)("p",null,"Aqu\xed se muestra un ejemplo para cargar dependencias en un child class loader."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'// Crear una instancia de Ezlib que por defecto guarda la librer\xedas en el path "folder"\nEzlib ezlib = new Ezlib();\n// Tambi\xe9n puedes crear la instancia especificando el path\nEzlib ezlib = new Ezlib(new File("folder/path"));\n\n// Cargar ezlib\nezlib.init();\n\n// Cargar una dependencia en un class loader menor\nezlib.dependency("commons-io:commons-io:2.11.0").load();\n\n// Cargar una dependencia desde un repositorio en espec\xedfico\nezlib.dependency("com.saicone.rtag:rtag:1.3.0").repository("https://jitpack.io/").load();\n\n// Tambien puedes cambiar el repositoria por defecto\nezlib.setDefaultRepository("URL de repositorio");\n')),(0,o.kt)("h2",{id:"classloader-principal"},"ClassLoader principal"),(0,o.kt)("p",null,"Ezlib permite cargar la dependencias en el class loader actual o principal y especificar el repositorio antes del metodo de cargar."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'Ezlib ezlib = new Ezlib();\n// Cargar ezlib\nezlib.init();\n\n// Cargar una dependencia en el class loader actual o principal\nezlib.dependency("commons-io:commons-io:2.11.0").parent(true).load();\n\n// Cargar desde un repositorio en espec\xedfico\nezlib.dependency("com.saicone.rtag:rtag:1.1.0")\n        .repository("https://jitpack.io/")\n        .parent(false)\n        .load();\n')),(0,o.kt)("h2",{id:"recolocaci\xf3n"},"Recolocaci\xf3n"),(0,o.kt)("p",null,"Ezlib usa la librer\xeda ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/lucko/jar-relocator"},"jar-relocator"),", as\xed que puedes recolocar los imports de las dependencias que quieres cargar."),(0,o.kt)("p",null,"Aqu\xed se ver\xe1 un ejemplo para cargar la librer\xedas de Redis con todas sus dependencias en el parent class loader."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'Map<String, String> relocations = new HashMap();\nrelocations.put("com.google.gson", "myproject.path.libs.gson");\nrelocations.put("org.apache.commons.pool2", "myproject.path.libs.pool2");\nrelocations.put("org.json", "myproject.path.libs.json");\nrelocations.put("org.slf4j", "myproject.path.libs.slf4j");\nrelocations.put("redis.clients.jedis", "myproject.path.libs.jedis");\n\nEzlib ezlib = new Ezlib();\nezlib.init();\n\n// Cargar primero todas las librer\xedas necesarias\nezlib.dependency("com.google.gson:gson:2.8.9").relocations(map).parent(true).load();\nezlib.dependency("org.apache.commons:commons-pool2:2.11.1").relocations(map).parent(true).load();\nezlib.dependency("org.json:json:20211205").relocations(map).parent(true).load();\nezlib.dependency("org.slf4j:slf4j-api:1.7.32").relocations(map).parent(true).load();\n\n// Luego cargar la librer\xeda de Redis\nezlib.dependency("redis.clients:jedis:4.2.2").relocations(map).parent(true).load();\n')),(0,o.kt)("admonition",{type:"warning"},(0,o.kt)("p",{parentName:"admonition"},"Recuerda recolocar los imports de tu proyecto cuando lo vayas a compilar ya sea usando Gradle ShadowJar o Maven Shade, para que la recolocaci\xf3n de Ezlib tenga sentido con tu proyecto actual, adem\xe1s excluye el class que estas utilizando para cargar las dependencias al momento de recolocar los imports de tu proyecto ya que los Strings de ese class tambi\xe9n son cambiados.")))}u.isMDXComponent=!0}}]);