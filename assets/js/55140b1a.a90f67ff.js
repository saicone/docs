"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3585],{3905:(e,t,a)=>{a.d(t,{Zo:()=>m,kt:()=>f});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),c=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},m=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),p=c(a),d=r,f=p["".concat(l,".").concat(d)]||p[d]||u[d]||o;return a?n.createElement(f,i(i({ref:t},m),{},{components:a})):n.createElement(f,i({ref:t},m))}));function f(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:r,i[1]=s;for(var c=2;c<o;c++)i[c]=a[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},4624:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var n=a(7462),r=(a(7294),a(3905));const o={sidebar_position:2,title:"Save items data",description:"How to save items in database or configuration files"},i=void 0,s={unversionedId:"rtag/guides/save-items",id:"rtag/guides/save-items",title:"Save items data",description:"How to save items in database or configuration files",source:"@site/docs/rtag/guides/save-items.md",sourceDirName:"rtag/guides",slug:"/rtag/guides/save-items",permalink:"/rtag/guides/save-items",draft:!1,editUrl:"https://github.com/saicone/rtag/blob/main/docs/default/guides/save-items.md",tags:[],version:"current",lastUpdatedBy:"github-actions[bot]",lastUpdatedAt:1739466050,formattedLastUpdatedAt:"Feb 13, 2025",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"Save items data",description:"How to save items in database or configuration files"},sidebar:"rtag",previous:{title:"Custom items",permalink:"/rtag/guides/custom-items"},next:{title:"Custom mobs",permalink:"/rtag/guides/custom-mobs"}},l={},c=[{value:"Save on database",id:"save-on-database",level:2},{value:"Save as configurable",id:"save-as-configurable",level:2}],m={toc:c},p="wrapper";function u(e){let{components:t,...a}=e;return(0,r.kt)(p,(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"When handling items you probably experienced problems at item saving, that because items are not mean to be used has database or configurable objects on vanilla Minecraft."),(0,r.kt)("p",null,"So Rtag offers an easier way to handle items into different types of data by using ",(0,r.kt)("a",{parentName:"p",href:"../../feature/stream/#itemtagstream"},"item stream")," instance, maintaining compatibility across versions instead of Bukkit serializer that cannot convert new item format into old one."),(0,r.kt)("h2",{id:"save-on-database"},"Save on database"),(0,r.kt)("p",null,"For example: you have some database system in your plugin like MySQL or ",(0,r.kt)("inlineCode",{parentName:"p"},".json")," files, so you need to save items in an efficient way."),(0,r.kt)("p",null,"By convert items into Base64 format you can have all the items data compressed and ready to use when it is retrieved."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"List<ItemStack> items = ...;\n\n// Compress\nString data = ItemTagStream.INSTANCE.listToBase64(items);\n\n// [ Then save data into database ]\n")),(0,r.kt)("p",null,"Then convert saved data into original format"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"// Get from database\nString data = ...;\n\nList<ItemStack> sameItems = ItemTagStream.INSTANCE.listFromBase64(base64);\n")),(0,r.kt)("h2",{id:"save-as-configurable"},"Save as configurable"),(0,r.kt)("p",null,"To allow users view saved items as configuration file (and configurate it as well) you can use the readable map conversion that parse item name and lore as colored string instead of chat component format, then convert that ",(0,r.kt)("inlineCode",{parentName:"p"},"Map")," as configuration object."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"ItemStack item = ...;\n\n// Convert\nMap<String, Object> map = ItemTagStream.INSTANCE.toReadableMap(item);\n\n// [ Then save into configuration ]\n")),(0,r.kt)("p",null,"Then convert saved ",(0,r.kt)("inlineCode",{parentName:"p"},"Map")," into original item"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"// Get from configuration\nMap<String, Object> map = ...;\n\nItemStack item = ItemTagStream.INSTANCE.fromReadableMap(map);\n")))}u.isMDXComponent=!0}}]);