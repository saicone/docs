"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8031],{7242:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"pixelbuy/developers/schema","title":"Schema","description":"PixelBuy web API schema.","source":"@site/docs/pixelbuy/developers/schema.md","sourceDirName":"pixelbuy/developers","slug":"/pixelbuy/developers/schema","permalink":"/pixelbuy/developers/schema","draft":false,"unlisted":false,"editUrl":"https://github.com/saicone/pixelbuy/blob/main/docs/default/developers/schema.md","tags":[],"version":"current","lastUpdatedBy":"github-actions[bot]","lastUpdatedAt":1755643093000,"sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Schema","description":"PixelBuy web API schema."},"sidebar":"pixelbuy","previous":{"title":"API","permalink":"/pixelbuy/developers/api"},"next":{"title":"Extra","permalink":"/pixelbuy/extra/"}}');var i=t(4848),s=t(8453);const o={sidebar_position:2,title:"Schema",description:"PixelBuy web API schema."},a=void 0,c={},d=[{value:"REST API",id:"rest-api",level:2},{value:"Authentication",id:"authentication",level:3},{value:"Version 1",id:"version-1",level:3}];function l(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"To allow people make its own website and connect it with PixelBuy, a format to get website data is provided."}),"\n",(0,i.jsx)(n.h2,{id:"rest-api",children:"REST API"}),"\n",(0,i.jsxs)(n.p,{children:["Make your site serve data with the typical ",(0,i.jsx)(n.code,{children:"GET"})," and ",(0,i.jsx)(n.code,{children:"POST"})," process."]}),"\n",(0,i.jsx)(n.p,{children:"Json content is used to explain the format."}),"\n",(0,i.jsx)(n.h3,{id:"authentication",children:"Authentication"}),"\n",(0,i.jsx)(n.p,{children:'Every website must provide a "secret", an API key to allow the user to get information from the website API.'}),"\n",(0,i.jsx)(n.p,{children:"PixelBuy is compatible with a variety of authentication formats:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Query parameters, by providing the secret as a query parameter in the same URL."}),"\n",(0,i.jsx)(n.li,{children:"Header property, by providing the secret as a http header in every connection."}),"\n",(0,i.jsx)(n.li,{children:"Basic authentication, by passing the secret in a Basic authentication header in every connection."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"version-1",children:"Version 1"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"error:"})," The response to communicate an error."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json5",children:'{\n  "error": "error_message_code",\n  "message": "An error has occur",\n  "status": 404,\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"(GET) order:"})," A store order, the player can be provided by only its name if you don't want to provide the UUID."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json5",children:'{\n  "id": 1234, // Order numeric ID / transaction number\n  "date": "1970-01-25", // ISO-8601 formatted\n  "player": "7ca003dc-175f-4f1f-b490-5651045311ad:Rubenicos", // [<uuid>:]<name>\n  "execution": "BUY", // Optional, the value must be BUY, RECOVER or REFUND\n  // The items can be empty if execution is RECOVER or REFUND\n  "items": [\n    {\n      "product": 55, // Optional, it\'s the product identifier, can be any type of object\n      "id": "super-pickaxe", // The item identifier configured on PixelBuy items\n      "amount": 1, // The amount of items of this type, must be an integer number\n      "price": 2.49, // The real amount of money spend on this item(s)\n    },\n    {\n      "product": 94,\n      "id": "eco-bundle",\n      "amount": 6,\n      "price": 5.04,\n    }\n  ]\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"(GET) server:"})," A server information."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json5",children:'{\n  // Orders that should be processed by PixelBuy\n  "pending_orders": [\n    {\n      // Order object...\n    },\n    {\n      // Order object...\n    }\n  ],\n  "next_check": 60, // Optional, the amount of seconds to wait until make the next check\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"(POST) update:"})," Communicate to store a server update."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json5",children:'{\n  "processed_orders": [ 1234, 6727, 1897 ], // Order IDs that must be removed from server pending orders\n}\n'})})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var r=t(6540);const i={},s=r.createContext(i);function o(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);