"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5395],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>k});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},c=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),m=p(a),u=r,k=m["".concat(s,".").concat(u)]||m[u]||d[u]||i;return a?n.createElement(k,o(o({ref:t},c),{},{components:a})):n.createElement(k,o({ref:t},c))}));function k(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[m]="string"==typeof e?e:r,o[1]=l;for(var p=2;p<i;p++)o[p]=a[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},6771:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var n=a(7462),r=(a(7294),a(3905));const i={sidebar_position:2,title:"Introduction",description:"Basic information about NBT tags"},o=void 0,l={unversionedId:"rtag/intro",id:"rtag/intro",title:"Introduction",description:"Basic information about NBT tags",source:"@site/docs/rtag/intro.md",sourceDirName:"rtag",slug:"/rtag/intro",permalink:"/rtag/intro",draft:!1,editUrl:"https://github.com/saicone/rtag/blob/main/docs/default/intro.md",tags:[],version:"current",lastUpdatedBy:"github-actions[bot]",lastUpdatedAt:1739466050,formattedLastUpdatedAt:"Feb 13, 2025",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"Introduction",description:"Basic information about NBT tags"},sidebar:"rtag",previous:{title:"Rtag",permalink:"/rtag/"},next:{title:"Usage",permalink:"/rtag/usage/"}},s={},p=[{value:"What is NBT",id:"what-is-nbt",level:2},{value:"Compatible objects",id:"compatible-objects",level:2},{value:"About Bukkit",id:"about-bukkit",level:2},{value:"Rtag Magic",id:"rtag-magic",level:2}],c={toc:p},m="wrapper";function d(e){let{components:t,...a}=e;return(0,r.kt)(m,(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"what-is-nbt"},"What is NBT"),(0,r.kt)("p",null,"The Named Binary Tag (NBT) format is a tree data structure used by Minecraft to save data in different formats starting with bytes, an NBT is just a simple Java object (String, Integer, List.. etc) defined with a key."),(0,r.kt)("p",null,"The NBT format is commonly used to save Minecraft objects like Worlds, Items, Entities... etc."),(0,r.kt)("p",null,"The NBT classes inside Minecraft code extends ",(0,r.kt)("inlineCode",{parentName:"p"},"NBTBase")," and reference the common Java objects: ",(0,r.kt)("inlineCode",{parentName:"p"},"NBTTagString"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"NBTTagInt"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"NBTTagLong"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"NBTTagList"),"... etc. The main NBT class would be ",(0,r.kt)("inlineCode",{parentName:"p"},"NBTTagCompound")," which refers to a Java Map and is the basic object to store NBT objects with their respective key (",(0,r.kt)("inlineCode",{parentName:"p"},"Map<String, NBTBase>"),")."),(0,r.kt)("h2",{id:"compatible-objects"},"Compatible objects"),(0,r.kt)("p",null,"The NBT objects defined by their type IDs are:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"NBTTagByte"),": Same has ",(0,r.kt)("inlineCode",{parentName:"li"},"byte")," in Java."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"NBTTagShort"),": Same has ",(0,r.kt)("inlineCode",{parentName:"li"},"short")," in Java."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"NBTTagInt"),": Same has ",(0,r.kt)("inlineCode",{parentName:"li"},"int")," in Java."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"NBTTagLong"),": Same has ",(0,r.kt)("inlineCode",{parentName:"li"},"long")," in Java."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"NBTTagFloat"),": Same has ",(0,r.kt)("inlineCode",{parentName:"li"},"float")," in Java."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"NBTTagDouble"),": Same has ",(0,r.kt)("inlineCode",{parentName:"li"},"double")," in Java."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"NBTTagByteArray"),": Same has ",(0,r.kt)("inlineCode",{parentName:"li"},"byte[]")," in Java."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"NBTTagString"),": Same has ",(0,r.kt)("inlineCode",{parentName:"li"},"String")," in Java."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"NBTTagList"),": Same has ",(0,r.kt)("inlineCode",{parentName:"li"},"List<NBTBase>")," in Java."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"NBTTagCompound"),": Same has ",(0,r.kt)("inlineCode",{parentName:"li"},"Map<String, NBTBase>")," in Java."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"NBTTagIntArray"),": Same has ",(0,r.kt)("inlineCode",{parentName:"li"},"int[]")," in Java."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"NBTTagLongArray"),": Same has ",(0,r.kt)("inlineCode",{parentName:"li"},"long[]")," in Java (Added on MC 1.12).")),(0,r.kt)("admonition",{title:"Boolean object",type:"info"},(0,r.kt)("p",{parentName:"admonition"},"As you can see the booleans are not compatible, because are saved as ",(0,r.kt)("inlineCode",{parentName:"p"},"byte")," (",(0,r.kt)("inlineCode",{parentName:"p"},"NBTTagByte"),")."),(0,r.kt)("p",{parentName:"admonition"},"So take in count that Java by default cannot convert ",(0,r.kt)("inlineCode",{parentName:"p"},"byte")," as ",(0,r.kt)("inlineCode",{parentName:"p"},"boolean")," (You will see a better explanation next).")),(0,r.kt)("h2",{id:"about-bukkit"},"About Bukkit"),(0,r.kt)("p",null,'First of all, "NMS" means ',(0,r.kt)("inlineCode",{parentName:"p"},"net.minecraft.server"),', it\'s a package on old Bukkit versions before "universalization" (Bukkit 1.17 mappings) which contains all classes from the original Minecraft server distributed by Mojang, Bukkit uses it to work as server.'),(0,r.kt)("p",null,"Most recent versions of Bukkit (from Bukkit 1.17) have different paths for Minecraft server classes, for example ",(0,r.kt)("inlineCode",{parentName:"p"},"net.minecraft.world.level.World"),"."),(0,r.kt)("p",null,"The NMS is usually known by using it with ",(0,r.kt)("a",{parentName:"p",href:"https://www.oracle.com/technical-resources/articles/java/javareflection.html"},"reflection")," because Mojang constantly changes the methods names and uses ",(0,r.kt)("a",{parentName:"p",href:"https://www.javatpoint.com/java-obfuscator"},"obfuscators")," in his code."),(0,r.kt)("p",null,"So it has been a frequent problem for developers that use NBT directly instead of methods provided by Bukkit, like PersistentDataContainer introduced on Bukkit 1.14."),(0,r.kt)("h2",{id:"rtag-magic"},"Rtag Magic"),(0,r.kt)("p",null,"To simplify NBT usage, the Rtag (readable tag) library provide an easy way to handle NBTTagCompounds and the other compatible objects."),(0,r.kt)("p",null,"Rtag (try to) convert any Java object into ",(0,r.kt)("inlineCode",{parentName:"p"},"NBTBase")," and viceversa, in order to handle NBT as normal objects in a easy way."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"// GET - You will see as normal object\nNBTBase -> Object\n// SET - The server will save as NBTBase object\nObject -> NBTBase\n")),(0,r.kt)("p",null,"Currently limited by ",(0,r.kt)("inlineCode",{parentName:"p"},"boolean")," conversion, so it's suggested to get them as ",(0,r.kt)("inlineCode",{parentName:"p"},"byte")," or run an ",(0,r.kt)("a",{parentName:"p",href:"../feature/types/#conversi%C3%B3n"},"explicit conversion"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'// get from path\nbyte data = rtag.get(compound, "path");\n// convert to boolean\nboolean bool = data == (byte) 1;\n\n// or get by explicit conversion\nboolean bool = rtag.getOptional(compound, "path").asBoolean(false); // false by default\n')))}d.isMDXComponent=!0}}]);